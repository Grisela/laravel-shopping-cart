<?php $total = 0 ?>
@foreach ((array) session('layouts.cart') as $id => $details)
    <?php $total += $details['price'] * $details['quantity'] ?>
@endforeach

<nav class="navbar navbar-expand-sm navbar-dark navbar-transparent px-4">
    <a class="navbar-brand" href="#">

        <svg width="217" height="52" viewBox="0 0 217 52" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M64.0404 14.268C62.2164 14.868 60.8004 15.864 59.7924 17.256C58.8084 18.624 58.3164 20.328 58.3164 22.368C58.3164 23.28 58.4004 23.904 58.5684 24.24C58.7364 24.576 58.8204 24.78 58.8204 24.852C56.2524 24.852 54.9684 23.76 54.9684 21.576C54.9684 20.088 55.5324 18.6 56.6604 17.112C57.8124 15.6 59.2764 14.376 61.0524 13.44C62.8524 12.48 64.6404 12 66.4164 12C67.3044 12 68.2164 12.168 69.1524 12.504L68.3244 31.476L76.2444 12.504H81.4284L77.6484 39H72.4644L74.7684 22.836L68.0004 39H63.0684L63.7884 22.764L57.7764 39H54.8964L64.0404 14.268ZM86.0763 39.144C84.3003 39.144 82.8963 38.688 81.8643 37.776C80.8323 36.864 80.3163 35.424 80.3163 33.456C80.3163 31.824 80.6523 30.012 81.3243 28.02C81.9963 26.028 83.0763 24.312 84.5643 22.872C86.0523 21.408 87.9243 20.676 90.1803 20.676C93.2523 20.676 94.7883 22.596 94.7883 26.436V26.472C94.8603 26.496 94.9923 26.508 95.1843 26.508C95.9763 26.508 96.8883 26.304 97.9203 25.896C98.9523 25.464 99.8883 24.948 100.728 24.348L101.052 25.32C100.356 26.064 99.4443 26.7 98.3163 27.228C97.2123 27.732 96.0003 28.092 94.6803 28.308C94.4883 30.492 93.9963 32.4 93.2043 34.032C92.4123 35.664 91.3923 36.924 90.1443 37.812C88.8963 38.7 87.5403 39.144 86.0763 39.144ZM87.5163 35.904C88.0923 35.904 88.6683 35.58 89.2443 34.932C89.8203 34.26 90.3243 33.36 90.7563 32.232C91.1883 31.08 91.5003 29.808 91.6923 28.416C91.0443 28.272 90.7203 27.768 90.7203 26.904C90.7203 25.92 91.0923 25.272 91.8363 24.96C91.7883 24.168 91.6683 23.628 91.4763 23.34C91.2843 23.028 90.9483 22.872 90.4683 22.872C89.6763 22.872 88.9083 23.448 88.1643 24.6C87.4203 25.752 86.8203 27.132 86.3643 28.74C85.9083 30.348 85.6803 31.764 85.6803 32.988C85.6803 34.14 85.8123 34.92 86.0763 35.328C86.3403 35.712 86.8203 35.904 87.5163 35.904ZM100.205 39.216C99.0526 39.216 98.1166 38.856 97.3966 38.136C96.7006 37.416 96.3526 36.336 96.3526 34.896C96.3526 34.296 96.4486 33.516 96.6406 32.556L99.0886 21H104.273L101.681 33.24C101.609 33.6 101.573 33.936 101.573 34.248C101.573 35.232 101.933 35.724 102.653 35.724C103.325 35.724 103.901 35.448 104.381 34.896C104.861 34.32 105.245 33.54 105.533 32.556L107.981 21H113.165L110.573 33.24C110.477 33.6 110.429 33.984 110.429 34.392C110.429 34.872 110.537 35.22 110.753 35.436C110.993 35.628 111.377 35.724 111.905 35.724C112.577 35.724 113.153 35.436 113.633 34.86C114.137 34.284 114.533 33.516 114.821 32.556H116.333C115.445 35.148 114.341 36.912 113.021 37.848C111.725 38.76 110.417 39.216 109.097 39.216C108.065 39.216 107.237 38.928 106.613 38.352C106.013 37.776 105.653 36.924 105.533 35.796C104.717 37.116 103.853 38.016 102.941 38.496C102.053 38.976 101.141 39.216 100.205 39.216ZM118.92 39.216C117.768 39.216 116.796 39 116.004 38.568C115.212 38.112 114.624 37.536 114.24 36.84C113.856 36.12 113.664 35.376 113.664 34.608C113.664 33.816 113.856 33.132 114.24 32.556C114.6 31.956 115.044 31.524 115.572 31.26C116.508 29.58 117.324 27.888 118.02 26.184C118.716 24.456 119.376 22.596 120 20.604L125.328 19.884C125.448 22.956 125.652 26.28 125.94 29.856C126.06 31.296 126.12 32.34 126.12 32.988C126.12 33.54 126.072 33.996 125.976 34.356C127.104 33.708 127.968 33.108 128.568 32.556H130.08C128.544 34.332 126.708 35.832 124.572 37.056C123.876 37.8 123.012 38.352 121.98 38.712C120.972 39.048 119.952 39.216 118.92 39.216ZM117.768 36.372C118.656 36.372 119.4 36.108 120 35.58C120.6 35.052 120.9 34.2 120.9 33.024C120.9 32.304 120.828 31.296 120.684 30C120.444 27.264 120.288 25.428 120.216 24.492C119.64 26.388 118.668 28.656 117.3 31.296C117.852 31.584 118.128 32.004 118.128 32.556C118.128 33.012 117.972 33.42 117.66 33.78C117.372 34.14 117 34.32 116.544 34.32C116.04 34.32 115.716 34.164 115.572 33.852C115.572 34.716 115.74 35.352 116.076 35.76C116.436 36.168 117 36.372 117.768 36.372ZM132.127 39.216C130.975 39.216 130.039 38.856 129.319 38.136C128.623 37.416 128.274 36.336 128.274 34.896C128.274 34.296 128.37 33.516 128.562 32.556L130.723 22.44H129.535L129.823 21H131.011L132.091 16.032L137.419 15.312L136.195 21H138.355L138.066 22.44H135.907L133.603 33.24C133.507 33.6 133.459 33.984 133.459 34.392C133.459 34.872 133.567 35.22 133.783 35.436C134.023 35.628 134.407 35.724 134.935 35.724C135.631 35.724 136.279 35.436 136.879 34.86C137.479 34.26 137.911 33.492 138.175 32.556H139.687C138.799 35.148 137.659 36.912 136.267 37.848C134.875 38.76 133.495 39.216 132.127 39.216ZM142.48 39.216C141.112 39.216 139.972 38.748 139.06 37.812C138.148 36.876 137.692 35.412 137.692 33.42C137.692 31.644 138.04 29.784 138.736 27.84C139.456 25.872 140.512 24.216 141.904 22.872C143.32 21.504 145 20.82 146.944 20.82C147.928 20.82 148.66 20.988 149.14 21.324C149.62 21.66 149.86 22.104 149.86 22.656V22.908L150.256 21H155.44L152.848 33.24C152.752 33.6 152.704 33.984 152.704 34.392C152.704 35.424 153.196 35.94 154.18 35.94C154.852 35.94 155.428 35.628 155.908 35.004C156.412 34.38 156.808 33.564 157.096 32.556H158.608C157.72 35.148 156.616 36.912 155.296 37.848C154 38.76 152.692 39.216 151.372 39.216C150.364 39.216 149.548 38.94 148.924 38.388C148.324 37.812 147.964 36.984 147.844 35.904C147.148 36.888 146.368 37.692 145.504 38.316C144.664 38.916 143.656 39.216 142.48 39.216ZM144.82 35.724C145.42 35.724 146.008 35.448 146.584 34.896C147.184 34.32 147.592 33.54 147.808 32.556L149.536 24.42C149.536 24.108 149.416 23.808 149.176 23.52C148.936 23.208 148.564 23.052 148.06 23.052C147.1 23.052 146.236 23.616 145.468 24.744C144.7 25.848 144.1 27.192 143.668 28.776C143.236 30.336 143.02 31.716 143.02 32.916C143.02 34.116 143.188 34.884 143.524 35.22C143.884 35.556 144.316 35.724 144.82 35.724ZM162.257 39.216C160.481 39.216 159.101 38.76 158.117 37.848C157.133 36.912 156.641 35.46 156.641 33.492C156.641 31.836 156.965 30.012 157.613 28.02C158.285 26.028 159.341 24.312 160.781 22.872C162.245 21.408 164.093 20.676 166.325 20.676C167.765 20.676 168.785 20.988 169.385 21.612C170.009 22.236 170.321 23.028 170.321 23.988C170.321 24.828 170.141 25.476 169.781 25.932C169.421 26.388 168.965 26.616 168.413 26.616C168.005 26.616 167.585 26.472 167.153 26.184C167.441 25.392 167.585 24.684 167.585 24.06C167.585 23.604 167.501 23.244 167.333 22.98C167.165 22.716 166.913 22.584 166.577 22.584C165.857 22.584 165.137 23.172 164.417 24.348C163.697 25.524 163.109 26.952 162.653 28.632C162.197 30.312 161.969 31.824 161.969 33.168C161.969 34.344 162.173 35.148 162.581 35.58C162.989 35.988 163.649 36.192 164.561 36.192C165.857 36.192 166.961 35.892 167.873 35.292C168.809 34.692 169.829 33.78 170.933 32.556H172.157C169.493 36.996 166.193 39.216 162.257 39.216ZM183.922 39.216C182.458 39.216 181.378 38.832 180.682 38.064C180.01 37.272 179.674 36.3 179.674 35.148C179.674 34.644 179.734 34.08 179.854 33.456C179.974 32.808 180.094 32.184 180.214 31.584C180.358 30.984 180.454 30.6 180.502 30.432C180.694 29.592 180.874 28.764 181.042 27.948C181.21 27.132 181.294 26.472 181.294 25.968C181.294 24.744 180.862 24.132 179.998 24.132C179.374 24.132 178.822 24.444 178.342 25.068C177.862 25.668 177.478 26.46 177.19 27.444L174.742 39H169.558L174.778 14.52L180.106 13.8L178.162 22.872C179.362 21.528 180.766 20.856 182.374 20.856C183.598 20.856 184.57 21.192 185.29 21.864C186.01 22.536 186.37 23.556 186.37 24.924C186.37 25.62 186.286 26.4 186.118 27.264C185.95 28.104 185.71 29.136 185.398 30.36C185.206 31.104 185.026 31.836 184.858 32.556C184.714 33.252 184.642 33.804 184.642 34.212C184.642 34.692 184.75 35.064 184.966 35.328C185.182 35.592 185.554 35.724 186.082 35.724C186.802 35.724 187.378 35.472 187.81 34.968C188.242 34.44 188.674 33.636 189.106 32.556H190.618C189.73 35.196 188.698 36.972 187.522 37.884C186.37 38.772 185.17 39.216 183.922 39.216ZM194.25 39.216C192.474 39.216 191.094 38.76 190.11 37.848C189.126 36.912 188.634 35.46 188.634 33.492C188.634 31.836 188.958 30.012 189.606 28.02C190.254 26.028 191.31 24.312 192.774 22.872C194.238 21.408 196.098 20.676 198.354 20.676C200.994 20.676 202.314 21.828 202.314 24.132C202.314 25.476 201.93 26.712 201.162 27.84C200.394 28.968 199.374 29.88 198.102 30.576C196.83 31.248 195.474 31.632 194.034 31.728C193.986 32.448 193.962 32.928 193.962 33.168C193.962 34.344 194.166 35.148 194.574 35.58C194.982 35.988 195.642 36.192 196.554 36.192C197.85 36.192 198.954 35.892 199.866 35.292C200.802 34.692 201.822 33.78 202.926 32.556H204.15C201.486 36.996 198.186 39.216 194.25 39.216ZM194.322 30C195.21 29.952 196.05 29.64 196.842 29.064C197.658 28.488 198.306 27.756 198.786 26.868C199.29 25.98 199.542 25.044 199.542 24.06C199.542 23.076 199.242 22.584 198.642 22.584C197.778 22.584 196.926 23.34 196.086 24.852C195.27 26.364 194.682 28.08 194.322 30ZM199.678 48C198.55 48 197.566 47.628 196.726 46.884C195.862 46.164 195.43 45.24 195.43 44.112C195.43 43.08 195.694 42.228 196.222 41.556C196.75 40.884 197.434 40.344 198.274 39.936C199.114 39.552 200.23 39.144 201.622 38.712L205.978 18.156C206.458 15.852 207.298 14.256 208.498 13.368C209.722 12.48 211.066 12.036 212.53 12.036C213.658 12.036 214.642 12.408 215.482 13.152C216.346 13.872 216.778 14.796 216.778 15.924C216.778 16.476 216.742 16.968 216.67 17.4H214.978C215.026 16.872 215.05 16.548 215.05 16.428C215.05 16.044 214.918 15.744 214.654 15.528C214.39 15.312 214.066 15.204 213.682 15.204C213.178 15.204 212.686 15.432 212.206 15.888C211.726 16.32 211.378 17.076 211.162 18.156L210.55 21H213.178L212.926 22.44H210.262L206.122 41.88C205.642 44.208 204.814 45.804 203.638 46.668C202.462 47.556 201.142 48 199.678 48ZM198.85 44.796C199.81 44.796 200.494 43.86 200.902 41.988L201.37 39.9C200.098 40.332 199.126 40.824 198.454 41.376C197.758 41.952 197.41 42.696 197.41 43.608C197.41 43.896 197.554 44.16 197.842 44.4C198.13 44.664 198.466 44.796 198.85 44.796Z" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M22.4131 44.6C20.5954 48.576 17.4065 51.6075 13.0165 51.6075C5.8277 51.6075 0 45.8568 0 38.7629C0 35.2861 0.41721 35.7316 1.68905 37.0899C3.01216 38.5029 5.26019 40.9037 8.92562 40.9037C12.2119 40.9037 15.6801 38.4768 18.4771 36.5195C21.4218 34.4589 23.6225 32.9189 24.0839 35.2795C24.8106 35.7138 25.6328 36.2892 26.5229 36.912C29.3199 38.8693 32.7881 41.2962 36.0744 41.2962C39.7398 41.2962 41.9878 38.8954 43.3109 37.4824C44.5828 36.1241 45 35.6786 45 39.1554C45 46.2493 39.1723 52 31.9835 52C27.4501 52 24.1975 48.7672 22.4131 44.6Z" fill="#952929"/>
            <path d="M11.9277 3.75556L22.5 0L33.0723 3.75556L29.3804 30.0444H15.1162L11.9277 3.75556Z" fill="#C4C4C4"/>
            <line y1="-0.5" x2="21.792" y2="-0.5" transform="matrix(0.0924086 0.995721 -0.989866 0.142003 16.6265 4.59012)" stroke="#8D8D8D"/>
            <line y1="-0.5" x2="21.792" y2="-0.5" transform="matrix(-0.0924086 0.995721 0.989866 0.142003 28.709 4.59012)" stroke="#8D8D8D"/>
            <line x1="23.168" y1="3.33826" x2="23.168" y2="26.2889" stroke="#8D8D8D"/>
            </svg>
            

    </a>
    <button class="navbar-toggler d-lg-none" type="button" data-toggle="collapse" data-target="#collapsibleNavId" aria-controls="collapsibleNavId"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="collapsibleNavId">
        <ul class="navbar-nav ml-auto mr-5 mt-2 mt-lg-0">
            
            <li class="nav-item">
                <a class="nav-link" href="#">Home</a>
            </li>
            <li class="nav-item dropdown" style="width: auto">
                <a class="nav-link dropdown-toggle" href="#" id="dropdownId" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Cart <span class="badge badge-pill badge-dark">{{ count((array) session('layouts.cart')) }}</span></a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownId">
                    <div class="row total">
                        <div class="col-12 mx-3 section-text">
                            <p style="font-weight: bold">Total : ${{ $total }}</p>
                        </div>
                    </div>

                    @if (session('layouts.cart'))
                        @foreach (session('layouts.cart') as $id => $details)
                        <div class="card row detail d-flex flex-row" style="margin: 10px; padding: 10px">
                            <div class="col-4 d-flex align-item-center justify-content-center section-image">
                                <img class='img-fluid' style="max-height: 10vh;max-width:10vw" src="{{$details['image']}}">
                            </div>
                            <div class="col-8 section-item-name d-flex flex-column justify-content-between">
                                <p>{{$details['name']}} </p>
                                <div class="d-flex custom-flex justify-content-between">
                                    <span><small> Quantity : {{$details['quantity']}}</small></span>
                                    <span><small>${{$details['price']}}</small></span>
                                </div>
                            </div>
                        </div> 
                        @endforeach
                    @endif

                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-12 d-flex justify-content-end text-center checkout">
                            <a style="width:40vw;" href="{{ url('cart') }}" class="m-3 btn btn-dark btn-block btn-yellow">View all</a>
                        </div>
                </div>
            </li>
        </ul>
    </div>
</nav>